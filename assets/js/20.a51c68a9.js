(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{369:function(t,v,_){"use strict";_.r(v);var e=_(40),r=Object(e.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"redis-성능-test"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis-성능-test"}},[t._v("#")]),t._v(" Redis 성능 Test")]),t._v(" "),_("h2",{attrs:{id:"prerequisite"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#prerequisite"}},[t._v("#")]),t._v(" Prerequisite")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("EKS에 nGrider Controller Deploy"),_("br"),t._v(" "),_("a",{attrs:{href:"https://github.com/htdp1/session-k8s/tree/main/dev/ngrinder/controller",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/htdp1/session-k8s/tree/main/dev/ngrinder/controller"),_("OutboundLink")],1)])]),t._v(" "),_("li",[_("p",[t._v("EKS에 nGrider Agent Deploy"),_("br"),t._v(" "),_("a",{attrs:{href:"https://github.com/htdp1/session-k8s/tree/main/dev/ngrinder/agent",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/htdp1/session-k8s/tree/main/dev/ngrinder/agent"),_("OutboundLink")],1)])]),t._v(" "),_("li",[_("p",[t._v("Prometheus, Grafana 를 통한 EKS Cluster Monitoring"),_("br"),t._v(" "),_("a",{attrs:{href:"http://k8s-grafana-grafana-6380e9e544-711314603.ap-northeast-2.elb.amazonaws.com/?orgId=1",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://k8s-grafana-grafana-6380e9e544-711314603.ap-northeast-2.elb.amazonaws.com/?orgId=1"),_("OutboundLink")],1)])])]),t._v(" "),_("h2",{attrs:{id:"redis-benchmark-test-result"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#redis-benchmark-test-result"}},[t._v("#")]),t._v(" Redis-Benchmark Test Result")]),t._v(" "),_("ul",[_("li",[t._v("aof:no")])]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("SET: 4561.00 requests per second\nGET: 4462.89 requests per second\nLPUSH: 4665.70 requests per second\nLPOP: 4375.98 requests per second\n")])])]),_("ul",[_("li",[t._v("aof:yes, aofsync:everysec")])]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("SET: 3772.16 requests per second\nGET: 3939.80 requests per secondd\nLPUSH: 4171.19 requests per second\nLPOP: 5430.65 requests per second\n")])])]),_("ul",[_("li",[t._v("aof:yes, aofsync:always")])]),t._v(" "),_("div",{staticClass:"language- extra-class"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[t._v("SET: 2927.74 requests per second\nGET: 4188.31 requests per second\nLPUSH: 3165.06 requests per second\nLPOP: 3165.36 requests per second\n")])])]),_("h2",{attrs:{id:"ngrinder-test-result"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#ngrinder-test-result"}},[t._v("#")]),t._v(" nGrinder Test Result")]),t._v(" "),_("ul",[_("li",[t._v("TPS 3000 이상의 성능이 나오는 적정 환경에서 수행")])]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("Container")]),t._v(" "),_("th",[t._v("CPU")]),t._v(" "),_("th",[t._v("Memory")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("Spring Boot")]),t._v(" "),_("td",[t._v("0.5 / 4")]),t._v(" "),_("td",[t._v("4Gi")])]),t._v(" "),_("tr",[_("td",[t._v("nGrinder")]),t._v(" "),_("td",[t._v("0.5 / 2")]),t._v(" "),_("td",[t._v("4Gi")])]),t._v(" "),_("tr",[_("td",[t._v("Redis")]),t._v(" "),_("td",[t._v("0.3 / 0.5")]),t._v(" "),_("td",[t._v("512Gi")])])])]),t._v(" "),_("ul",[_("li",[t._v("nGrinder Management Console에서 Test Result 조회 가능"),_("br"),t._v(" "),_("a",{attrs:{href:"http://k8s-sessiond-ngrinder-aa75db0c27-1345478526.ap-northeast-2.elb.amazonaws.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://k8s-sessiond-ngrinder-aa75db0c27-1345478526.ap-northeast-2.elb.amazonaws.com/"),_("OutboundLink")],1)])]),t._v(" "),_("h3",{attrs:{id:"cache용-redis-set-test"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#cache용-redis-set-test"}},[t._v("#")]),t._v(" Cache용 Redis SET Test")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("vUser")]),t._v(" "),_("th",[t._v("Threshold")]),t._v(" "),_("th",[t._v("Replicas")]),t._v(" "),_("th",[t._v("TPS")]),t._v(" "),_("th",[t._v("Err.")]),t._v(" "),_("th",[t._v("Comment")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[_("strong",[t._v("3200")])]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("2000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("3100")]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("3000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2800")]),t._v(" "),_("td",[t._v("0.1%")]),t._v(" "),_("td",[t._v("성능 저하 구간으로 판단")])]),t._v(" "),_("tr",[_("td",[t._v("4000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2500")]),t._v(" "),_("td",[t._v("1.3%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("3000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[t._v("2300")]),t._v(" "),_("td",[t._v("0.1%")]),t._v(" "),_("td",[t._v("성능 저하 구간에서 replicas=2"),_("br"),t._v("pod 여러 개일 경우, 부하 초기에 분산 지연")])]),t._v(" "),_("tr",[_("td",[t._v("3000")]),t._v(" "),_("td",[t._v("5min")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[_("strong",[t._v("3350")])]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td",[t._v("TPS 분포도 안정될 때까지 측정시, TPS 증가")])])])]),t._v(" "),_("h3",{attrs:{id:"aof-redis-set-test-fsync-everysec"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#aof-redis-set-test-fsync-everysec"}},[t._v("#")]),t._v(" AOF Redis SET Test (fsync: everysec)")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("vUser")]),t._v(" "),_("th",[t._v("Threshold")]),t._v(" "),_("th",[t._v("Replicas")]),t._v(" "),_("th",[t._v("TPS")]),t._v(" "),_("th",[t._v("Err.")]),t._v(" "),_("th",[t._v("Comment")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[_("strong",[t._v("2400")])]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("2000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2300")]),t._v(" "),_("td",[t._v("0.1%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("3000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2100")]),t._v(" "),_("td",[t._v("0.1%")]),t._v(" "),_("td",[t._v("성능 저하 구간으로 판단")])]),t._v(" "),_("tr",[_("td",[t._v("4000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2700")]),t._v(" "),_("td",[t._v("1.3%")]),t._v(" "),_("td",[t._v("Error 발생 시, TPS 측정이 다소 부정확한 것으로 보임")])]),t._v(" "),_("tr",[_("td",[t._v("6000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2700")]),t._v(" "),_("td",[t._v("2.6%")]),t._v(" "),_("td",[t._v("Error 발생 시, TPS 측정이 다소 부정확한 것으로 보임")])]),t._v(" "),_("tr",[_("td",[t._v("3000")]),t._v(" "),_("td",[t._v("5min")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[_("strong",[t._v("3200")])]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td")])])]),t._v(" "),_("h3",{attrs:{id:"aof-redis-set-test-fsync-always"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#aof-redis-set-test-fsync-always"}},[t._v("#")]),t._v(" AOF Redis SET Test (fsync: always)")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("vUser")]),t._v(" "),_("th",[t._v("Threshold")]),t._v(" "),_("th",[t._v("Replicas")]),t._v(" "),_("th",[t._v("TPS")]),t._v(" "),_("th",[t._v("Err.")]),t._v(" "),_("th",[t._v("Comment")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("1000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[_("strong",[t._v("2300")])]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("2000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2200")]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("3000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("1900")]),t._v(" "),_("td",[t._v("0.2%")]),t._v(" "),_("td",[t._v("성능 저하 구간으로 판단")])]),t._v(" "),_("tr",[_("td",[t._v("4000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("1")]),t._v(" "),_("td",[t._v("2300")]),t._v(" "),_("td",[t._v("1.4%")]),t._v(" "),_("td",[t._v("Error 발생 시, TPS 측정이 다소 부정확한 것으로 보임")])]),t._v(" "),_("tr",[_("td",[t._v("6000")]),t._v(" "),_("td",[t._v("2min")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[t._v("2300")]),t._v(" "),_("td",[t._v("9.9%")]),t._v(" "),_("td",[t._v("Error 발생 시, TPS 측정이 다소 부정확한 것으로 보임")])]),t._v(" "),_("tr",[_("td",[t._v("3000")]),t._v(" "),_("td",[t._v("5min")]),t._v(" "),_("td",[t._v("2")]),t._v(" "),_("td",[_("strong",[t._v("3100")])]),t._v(" "),_("td",[t._v("0.0%")]),t._v(" "),_("td")])])])])}),[],!1,null,null,null);v.default=r.exports}}]);